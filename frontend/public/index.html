<!doctype html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
        
        <!-- PWA Meta Tags -->
        <meta name="theme-color" content="#1e40af" />
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title" content="ZIMI">
        <meta name="mobile-web-app-capable" content="yes">
        
        <!-- SEO Meta Tags -->
        <meta name="description" content="Aplicación móvil del Instituto de Medicina Integrativa del Dr. Pablo Zerquera. Agenda citas médicas, consulta servicios y comunícate directamente con nuestro equipo especializado en medicina oriental, funcional y homeopática." />
        <meta name="keywords" content="medicina integrativa, acupuntura, homeopatía, Dr. Zerquera, citas médicas, telemedicina, medicina oriental, fisioterapia, Miami, Kendall" />
        <meta name="author" content="Dr. Pablo Zerquera - ZIMI" />
        
        <!-- Open Graph Meta Tags -->
        <meta property="og:title" content="ZIMI - Zerquera Integrative Medical Institute" />
        <meta property="og:description" content="Instituto de Medicina Integrativa del Dr. Pablo Zerquera. Medicina Oriental, Funcional, Homeopática y más." />
        <meta property="og:image" content="https://drzerquera.com/wp-content/uploads/2024/02/ZIMI.png" />
        <meta property="og:type" content="website" />
        <meta property="og:locale" content="es_ES" />
        
        <!-- Twitter Card Meta Tags -->
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:title" content="ZIMI - Instituto de Medicina Integrativa" />
        <meta name="twitter:description" content="Dr. Pablo Zerquera - Medicina Oriental, Funcional y Homeopática en Miami" />
        <meta name="twitter:image" content="https://drzerquera.com/wp-content/uploads/2024/02/ZIMI.png" />
        
        <!-- Canonical URL - dynamically set by JavaScript -->
        <link rel="canonical" id="canonical-url" href="/" />
        
        <!-- App Icons -->
        <link rel="icon" href="https://drzerquera.com/wp-content/uploads/2024/02/ZIMI.png" />
        <link rel="apple-touch-icon" href="https://drzerquera.com/wp-content/uploads/2024/02/ZIMI.png" />
        <link rel="apple-touch-icon" sizes="152x152" href="https://drzerquera.com/wp-content/uploads/2024/02/ZIMI.png" />
        <link rel="apple-touch-icon" sizes="180x180" href="https://drzerquera.com/wp-content/uploads/2024/02/ZIMI.png" />
        <link rel="apple-touch-icon" sizes="167x167" href="https://drzerquera.com/wp-content/uploads/2024/02/ZIMI.png" />
        
        <!-- PWA Manifest -->
        <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
        
        <!-- Preconnect to external domains -->
        <link rel="preconnect" href="https://drzerquera.com" />
        <link rel="dns-prefetch" href="https://api.whatsapp.com" />
        
        <title>ZIMI - Dr. Pablo Zerquera | Medicina Integrativa</title>
        
        <!-- Domain-specific meta tag configuration -->
        <script>
            // Set canonical URL dynamically based on current domain
            document.addEventListener('DOMContentLoaded', function() {
                const canonicalUrl = document.getElementById('canonical-url');
                if (canonicalUrl) {
                    canonicalUrl.href = window.location.origin + window.location.pathname;
                }
                
                // Update Open Graph URL
                const ogUrlMeta = document.querySelector('meta[property="og:url"]');
                if (!ogUrlMeta) {
                    const newOgUrl = document.createElement('meta');
                    newOgUrl.setAttribute('property', 'og:url');
                    newOgUrl.setAttribute('content', window.location.origin);
                    document.head.appendChild(newOgUrl);
                }
                
                // Set up PWA installation detection
                if ('serviceWorker' in navigator) {
                    window.addEventListener('load', function() {
                        navigator.serviceWorker.register('/sw.js')
                            .then(function(registration) {
                                console.log('ZIMI SW registered successfully:', registration.scope);
                            })
                            .catch(function(error) {
                                console.log('ZIMI SW registration failed:', error);
                            });
                    });
                }
                
                // PWA install prompt handling
                let deferredPrompt;
                window.addEventListener('beforeinstallprompt', function(e) {
                    e.preventDefault();
                    deferredPrompt = e;
                    
                    // Show custom install button if desired
                    const installButton = document.getElementById('pwa-install-button');
                    if (installButton) {
                        installButton.style.display = 'block';
                        installButton.addEventListener('click', function() {
                            deferredPrompt.prompt();
                            deferredPrompt.userChoice.then(function(choiceResult) {
                                if (choiceResult.outcome === 'accepted') {
                                    console.log('User accepted the PWA install prompt');
                                } else {
                                    console.log('User dismissed the PWA install prompt');
                                }
                                deferredPrompt = null;
                            });
                        });
                    }
                });
                
                // Handle successful PWA installation
                window.addEventListener('appinstalled', function(evt) {
                    console.log('ZIMI PWA was installed successfully');
                    // Hide install button if it exists
                    const installButton = document.getElementById('pwa-install-button');
                    if (installButton) {
                        installButton.style.display = 'none';
                    }
                });
            });
        </script>
    </head>
    <body>
        <noscript>You need to enable JavaScript to run this app.</noscript>
        <div id="root"></div>
        <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
        <a
            id="emergent-badge"
            target="_blank"
            href="https://app.emergent.sh/?utm_source=emergent-badge"
            style="
                display: flex !important;
                align-items: center !important;
                position: fixed !important;
                bottom: 20px;
                right: 20px;
                text-decoration: none;
                padding: 6px 10px;
                font-family: -apple-system, BlinkMacSystemFont,
                    &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell,
                    &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;,
                    sans-serif !important;
                font-size: 12px !important;
                z-index: 9999 !important;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
                border-radius: 8px !important;
                background-color: #ffffff !important;
                border: 1px solid rgba(255, 255, 255, 0.25) !important;
            "
        >
            <div
                style="display: flex; flex-direction: row; align-items: center"
            >
                <img
                    style="width: 20px; height: 20px; margin-right: 8px"
                    src="https://avatars.githubusercontent.com/in/1201222?s=120&u=2686cf91179bbafbc7a71bfbc43004cf9ae1acea&v=4"
                />
                <p
                    style="
                        color: #000000;
                        font-family: -apple-system, BlinkMacSystemFont,
                            &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu,
                            Cantarell, &quot;Open Sans&quot;,
                            &quot;Helvetica Neue&quot;, sans-serif !important;
                        font-size: 12px !important;
                        align-items: center;
                        margin-bottom: 0;
                    "
                >
                    Made with Emergent
                </p>
            </div>
        </a>
        <script>
            !(function (t, e) {
                var o, n, p, r;
                e.__SV ||
                    ((window.posthog = e),
                    (e._i = []),
                    (e.init = function (i, s, a) {
                        function g(t, e) {
                            var o = e.split(".");
                            2 == o.length && ((t = t[o[0]]), (e = o[1])),
                                (t[e] = function () {
                                    t.push(
                                        [e].concat(
                                            Array.prototype.slice.call(
                                                arguments,
                                                0,
                                            ),
                                        ),
                                    );
                                });
                        }
                        ((p = t.createElement("script")).type =
                            "text/javascript"),
                            (p.crossOrigin = "anonymous"),
                            (p.async = !0),
                            (p.src =
                                s.api_host.replace(
                                    ".i.posthog.com",
                                    "-assets.i.posthog.com",
                                ) + "/static/array.js"),
                            (r =
                                t.getElementsByTagName(
                                    "script",
                                )[0]).parentNode.insertBefore(p, r);
                        var u = e;
                        for (
                            void 0 !== a ? (u = e[a] = []) : (a = "posthog"),
                                u.people = u.people || [],
                                u.toString = function (t) {
                                    var e = "posthog";
                                    return (
                                        "posthog" !== a && (e += "." + a),
                                        t || (e += " (stub)"),
                                        e
                                    );
                                },
                                u.people.toString = function () {
                                    return u.toString(1) + ".people (stub)";
                                },
                                o =
                                    "init me ws ys ps bs capture je Di ks register register_once register_for_session unregister unregister_for_session Ps getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty Es $s createPersonProfile Is opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing Ss debug xs getPageViewId captureTraceFeedback captureTraceMetric".split(
                                        " ",
                                    ),
                                n = 0;
                            n < o.length;
                            n++
                        )
                            g(u, o[n]);
                        e._i.push([i, s, a]);
                    }),
                    (e.__SV = 1));
            })(document, window.posthog || []);
            posthog.init("phc_yJW1VjHGGwmCbbrtczfqqNxgBDbhlhOWcdzcIJEOTFE", {
                api_host: "https://us.i.posthog.com",
                person_profiles: "identified_only", // or 'always' to create profiles for anonymous users as well
            });
        </script>
    </body>
</html>
